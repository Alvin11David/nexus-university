ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS course_title VARCHAR(255);
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS course_code VARCHAR(50);
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS total_questions INTEGER DEFAULT 1;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS total_points INTEGER DEFAULT 10;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS time_limit INTEGER;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS passing_score INTEGER;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS start_date TIMESTAMPTZ;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS end_date TIMESTAMPTZ;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS status VARCHAR(50) DEFAULT 'draft' CHECK (status IN ('draft', 'active', 'closed'));
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS attempts_allowed INTEGER DEFAULT 1;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS shuffle_questions BOOLEAN DEFAULT false;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS show_answers BOOLEAN DEFAULT false;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS total_attempts INTEGER DEFAULT 0;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS average_score DECIMAL(5,2) DEFAULT 0;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS completion_rate INTEGER DEFAULT 0;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS highest_score DECIMAL(5,2) DEFAULT 0;
ALTER TABLE quizzes ADD COLUMN IF NOT EXISTS lowest_score DECIMAL(5,2) DEFAULT 0;
